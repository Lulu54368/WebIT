<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/about.css" />

    <title>Template</title>

  </head>

  <!-- content of webpage begins here -->
  <body>
    <header>
      <script>
        var _hmt = _hmt || []; (function() { var hm =
        document.createElement("script"); hm.src =
        "//hm.baidu.com/hm.js?73c27e26f610eb3c9f3feb0c75b03925"; var s =
        document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s); })();
      </script>

      <ul class="topnav">
        <li><a href="/patient/{{p_id}}">Homepage</a></li>
        <li><a href="historyData">History Data</a></li>
        <li><a class="active" href="leaderboard">Leader Board</a></li>
        <li><a href="changePwd">Change Password</a></li>
        <li><a href="/patient/aboutWebsite">About this Website</a></li>
        <li><a href="/patient/aboutDiabetes">About Diabetes</a></li>
        <li><a href="/patient/logout">Log Out</a></li>
        <li class="icon">
          <a
            href="javascript:void(0);"
            style="font-size:15px;"
            onclick="myFunction()"
          >â˜°</a>
        </li>
      </ul>

      <script>
        function myFunction() {
        document.getElementsByClassName("topnav")[0].classList.toggle("responsive");
        }
      </script>
    </header>

    <aside>
      <div class = "greeting">
        <h1> Hi {{patient_name}}!</h1>
      </div>
      <div class = "date">
        <h4 id="MyP">Today is {{view_date}} </h4>
        <script>
            var today = new Date();
            var day = today.getDay();
            var daylist = ["Sunday","Monday","Tuesday","Wednesday ","Thursday","Friday","Saturday"];
            document.getElementById("MyP").innerHTML += daylist[day];
        </script>
      </div>
      <br>
      <div class = "progress">
        <h4>Engagement rate:</h4>
          <progress id="file" value={{engagement}} max="100"> {{engagement}}</progress>  {{engagement}}%
      </div>
      
      <div class="displayBadge">
        {{#if badge}}
        <h3 id="above"> Well done on achiving {{engagement}}% engagement! </h3>
        <img class="image" src="/badge.png">
        {{else}}
        <h3 id="below"> Your current engagement is {{engagement}}%, achieve 80%+ to receive a badge!</h3>
        {{/if}}
      </div>
    </aside>

    <main>

      <section>
        <div class = "leaderboard_sectionborder">
          <table>

            <tr class = "categories">
              <td>Rank</td>
              <td>Photo</td>
              <td>Screen Name</td>
              <td>Engagement Rate</td>
            </tr>
            
            {{#each top_patient}}
            <tr>
              <td>{{this.rank}}</td>
              <td><img src = "/page-logo.png" style = "width: 50%; margin-left: 20px;"></img></td>
              <td>{{this.pat_name}}</button></td>
              <td>{{this.rate}}%</td>
            </tr>
            {{/each}}
          </table>
        </div>
      </section>
      <br><br>
    
      <br><br>
    </main>

    
    <nav>
      <div class="sidenav">
          <img class = "image" src = "/page-logo.png">
      </div>
    </nav>

    <footer>
      <p>Copyright 2022 by Diabetes@Home. All Rights Reserved.</p>
    </footer>
  </body>
</html>
